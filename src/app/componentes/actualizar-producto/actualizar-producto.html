@if (!loading()) {
  <div class="producto-container">
    <div class="producto-card">
      <h2>Editar producto</h2>

      <form [formGroup]="form" (ngSubmit)="actualizar()" class="producto-form">
        <div class="producto-imagen">
          @if (producto()?.imagenProducto) {
            <img [src]="producto()?.imagenProducto" alt="Imagen del producto">
            <button type="button" class="btn-eliminar-imagen" (click)="eliminarImagen()">
              Eliminar imagen
            </button>
          } @else {
            <div class="no-imagen">Sin imagen</div>
          }

          <input type="file" (change)="onFileSelected($event)" accept="image/*">
          <button type="button" class="btn-subir-imagen" (click)="subirImagen()" [disabled]="!imagenSeleccionada">
            Subir imagen
          </button>
        </div>

        <div class="producto-campos">
          <label>Nombre</label>
          <input type="text" formControlName="nombre">

          <label>Descripci√≥n</label>
          <textarea formControlName="descripcion" rows="3"></textarea>

          <label>Valor</label>
          <input type="number" formControlName="valor">

          <label>Tipo</label>
          <select formControlName="tipo">
            <option value="">Seleccione</option>
            <option value="BIEN">Bien</option>
            <option value="SERVICIO">Servicio</option>
          </select>

          <label>Imagen (URL)</label>
          <input type="text" formControlName="imagenProducto" readonly>
        </div>

        <div class="producto-botones">
          <button type="submit" class="btn-actualizar" [disabled]="form.invalid || loading()">Actualizar</button>
          <button type="button" class="btn-eliminar" (click)="eliminar()">Eliminar</button>
        </div>
      </form>
    </div>
  </div>
} @else {
  <div class="producto-loading">Cargando producto...</div>
}
